<?php echo view('resources/links'); ?>
<?php echo view('resources/css'); ?>
<?php echo view('resources/header'); ?>

<div class="containers">
    <div class="card-contents" style="display:none">
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Cardgggggggggggg title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Cardmmmmmmm title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Cardgggggggggggg title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Cardmmmmmmm title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Cardgggggggggggg title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Cardmmmmmmm title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/logo.png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/snip..png" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>
        <div class="cards">
            <div class="card-images">
                <img class="card-img-top" src="<?php echo base_url(); ?>/assets/img/mutlogoonly1.PNG" alt="Card image cap">
            </div>
            <div class=" card-infos">
                <h3 class="">Card title</h3>
                <p class="">Some quick example text to build on the card title and make up the bulk of the card's content.</p>

            </div>
        </div>

    </div>
    <div class="_pagination">
        <!-- <li class="_page-item _previous-page _disabled "><a href="#" class="_page-link">Previous</a></li>
        <li class="_page-item _current-page _active"><a href="#" class="_page-link">1</a></li>
        <li class="_page-item _dots"><a href="#" class="_page-link">...</a></li>
        <li class="_page-item _current-page"><a href="#" class="_page-link">5</a></li>
        <li class="_page-item _current-page"><a href="#" class="_page-link">6</a></li>
        <li class="_page-item _dots"><a href="#" class="_page-link">...</a></li>
        <li class="_page-item _current-page"><a href="#" class="_page-link">10</a></li>
        <li class="_page-item _next-page"><a href="#" class="_page-link">Next</a></li> -->
    </div>
</div>

<script>
    function getPageList(totalPages, page, maxLength) {
        function range(start, end) {
            return Array.from(Array(end - start + 1), (_, i) => i + start);
        }
        var sideWidth = maxLength < 9 ? 1 : 2;
        var leftWidth = (maxLength - sideWidth * 2 - 3) >> 1;
        var rightWidth = (maxLength - sideWidth * 2 - 3) >> 1;

        if (totalPages <= maxLength) {
            return range(1, totalPages);
        }

        if (page <= maxLength - sideWidth - 1 - rightWidth) {
            return range(1, maxLength - sideWidth - 1).concat(0, range(totalPages - sideWidth + 1, totalPages));
        }

        if (page >= totalPages - sideWidth - 1 - rightWidth) {
            return range(1, sideWidth).concat(0, range(totalPages - sideWidth - 1 - rightWidth - leftWidth, totalPages))
        }
        return range(1, sideWidth).concat(0, range(page - leftWidth, page + rightWidth), 0, range(totalPages - sideWidth + 1, totalPages));
    }
    $(function() {
        var numberOfItems = $('.card-contents .cards').length;
        var limitPerPage = 3;
        var totalPages = Math.ceil(numberOfItems / limitPerPage);
        var paginationSize = 7;
        var currentPage;

        function showPage(whichPage) {
            if (whichPage < 1 || whichPage > totalPages) return false;

            currentPage = whichPage;

            $('.card-contents .cards').hide().slice((currentPage - 1) * limitPerPage, currentPage * limitPerPage).show();

            $('._pagination li').slice(1, -1).remove();

            getPageList(totalPages, currentPage, paginationSize).forEach(item => {
                $("<li>").addClass("_page-item").addClass(item ? "_current-page" : "_dots").toggleClass("_active", item === currentPage).append($("<a>").addClass("_page-link")
                    .attr({
                        href: "javascript:void(0)"
                    }).text(item || "...")).insertBefore("._next-page");
            });

            $("._previous-page").toggleClass("_disable", currentPage === 1);
            $("._next-page").toggleClass("_disable", currentPage === totalPages);
            return true;
        }

        $("._pagination").append(
            $("<li>").addClass("_page-item").addClass("_previous-page").append($("<a>").addClass("._page-link").attr({
                href: "javascript:void(0)"
            }).text("Previous")),

            $("<li>").addClass("_page-item").addClass("_next-page").append($("<a>").addClass("._page-link").attr({
                href: "javascript:void(0)"
            }).text("Next")),
        );

        $(".card-contents").show();
        showPage(1);

        $(document).on('click', "._pagination li._current-page:not(._active)", function() {
            return showPage(+$(this).text());
        })
        $("._next-page").on('click', function() {
            return showPage(currentPage + 1);
        })
        $("._previous-page").on('click', function() {
            return showPage(currentPage - 1);
        })
    })
</script>